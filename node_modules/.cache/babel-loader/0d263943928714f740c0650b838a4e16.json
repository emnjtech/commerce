{"ast":null,"code":"var _jsxFileName = \"/Users/admin/ReactProjects/reactProject/my-app/src/context/commerce-state.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { ADD_T0_CART, REMOVE_FROM_CART, INC_QTY, DEC_QTY, EMPTY_CART } from \"./commerce-action\";\nimport { useReducer } from \"react\";\nimport CommerceContext from \"./commerce-context\";\nimport { commerceReducer } from './commerce-reducer';\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst storageKey = \"localCart\";\nconst InitialState = {\n  basket: [] //id, title,price,image\n\n}; // add to cart\n\nexport default function CommerceState(props) {\n  _s();\n\n  const [state, dispatch] = useReducer(commerceReducer, InitialState, initial => JSON.parse(localStorage.getItem(storageKey)) || initial);\n\n  const incQty = itemID => {\n    dispatch({\n      type: INC_QTY,\n      payload: itemID\n    });\n  };\n\n  useEffect(() => {\n    localStorage.setItem(storageKey, JSON.stringify(state));\n  }, [state]);\n\n  const decQty = itemID => {\n    dispatch({\n      type: DEC_QTY,\n      payload: itemID\n    });\n  };\n\n  const addToCart = item => {\n    dispatch({\n      type: ADD_T0_CART,\n      payload: item\n    });\n  };\n\n  const removeFromCart = itemId => {\n    dispatch({\n      type: REMOVE_FROM_CART,\n      payload: itemId\n    });\n  };\n\n  const emptyCart = () => {\n    dispatch({\n      type: EMPTY_CART\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(CommerceContext.Provider, {\n    value: {\n      basket: state.basket,\n      addToCart,\n      removeFromCart,\n      incQty,\n      decQty,\n      emptyCart\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 7\n  }, this);\n}\n\n_s(CommerceState, \"aL0+CyyxbGdD2Ehvvldjnt5Inmo=\");\n\n_c = CommerceState;\n\nvar _c;\n\n$RefreshReg$(_c, \"CommerceState\");","map":{"version":3,"sources":["/Users/admin/ReactProjects/reactProject/my-app/src/context/commerce-state.js"],"names":["React","ADD_T0_CART","REMOVE_FROM_CART","INC_QTY","DEC_QTY","EMPTY_CART","useReducer","CommerceContext","commerceReducer","useEffect","storageKey","InitialState","basket","CommerceState","props","state","dispatch","initial","JSON","parse","localStorage","getItem","incQty","itemID","type","payload","setItem","stringify","decQty","addToCart","item","removeFromCart","itemId","emptyCart","children"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,gBAAtB,EAAwCC,OAAxC,EAAiDC,OAAjD,EAA0DC,UAA1D,QAA6E,mBAA7E;AACA,SAASC,UAAT,QAA2B,OAA3B;AACA,OAAOC,eAAP,MAA4B,oBAA5B;AACA,SAAQC,eAAR,QAA8B,oBAA9B;AACA,SAASC,SAAT,QAA0B,OAA1B;;AAGA,MAAMC,UAAU,GAAG,WAAnB;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,MAAM,EAAE,EADS,CACL;;AADK,CAArB,C,CAKA;;AAIA,eAAe,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAAA;;AACzC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBV,UAAU,CAACE,eAAD,EAAkBG,YAAlB,EAAiCM,OAAD,IAAaC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBX,UAArB,CAAX,KAAgDO,OAA7F,CAApC;;AAGA,QAAMK,MAAM,GAAIC,MAAD,IAAY;AACvBP,IAAAA,QAAQ,CAAC;AACLQ,MAAAA,IAAI,EAAErB,OADD;AAELsB,MAAAA,OAAO,EAAEF;AAFJ,KAAD,CAAR;AAIH,GALD;;AAOAd,EAAAA,SAAS,CAAC,MAAM;AACZW,IAAAA,YAAY,CAACM,OAAb,CAAqBhB,UAArB,EAAiCQ,IAAI,CAACS,SAAL,CAAeZ,KAAf,CAAjC;AAEH,GAHQ,EAGN,CAACA,KAAD,CAHM,CAAT;;AAKA,QAAMa,MAAM,GAAIL,MAAD,IAAY;AACvBP,IAAAA,QAAQ,CAAC;AACLQ,MAAAA,IAAI,EAAEpB,OADD;AAELqB,MAAAA,OAAO,EAACF;AAFH,KAAD,CAAR;AAKH,GAND;;AAOA,QAAMM,SAAS,GAAIC,IAAD,IAAU;AACxBd,IAAAA,QAAQ,CAAC;AACLQ,MAAAA,IAAI,EAAEvB,WADD;AAELwB,MAAAA,OAAO,EAAEK;AAFJ,KAAD,CAAR;AAKH,GAND;;AAQA,QAAMC,cAAc,GAAIC,MAAD,IAAY;AAC/BhB,IAAAA,QAAQ,CAAC;AACLQ,MAAAA,IAAI,EAAEtB,gBADD;AAELuB,MAAAA,OAAO,EAAEO;AAFJ,KAAD,CAAR;AAIH,GALD;;AAOA,QAAMC,SAAS,GAAG,MAAM;AACpBjB,IAAAA,QAAQ,CAAC;AACLQ,MAAAA,IAAI,EAACnB;AADA,KAAD,CAAR;AAGH,GAJD;;AAMF,sBAEI,QAAC,eAAD,CAAiB,QAAjB;AAA0B,IAAA,KAAK,EAAE;AAC7BO,MAAAA,MAAM,EAAEG,KAAK,CAACH,MADe;AAE7BiB,MAAAA,SAF6B;AAG7BE,MAAAA,cAH6B;AAI7BT,MAAAA,MAJ6B;AAK7BM,MAAAA,MAL6B;AAM7BK,MAAAA;AAN6B,KAAjC;AAAA,cAQKnB,KAAK,CAACoB;AARX;AAAA;AAAA;AAAA;AAAA,UAFJ;AAgBD;;GA5DuBrB,a;;KAAAA,a","sourcesContent":["import React from \"react\";\nimport { ADD_T0_CART, REMOVE_FROM_CART, INC_QTY, DEC_QTY, EMPTY_CART, } from \"./commerce-action\";\nimport { useReducer } from \"react\";\nimport CommerceContext from \"./commerce-context\";\nimport {commerceReducer} from './commerce-reducer'\nimport { useEffect } from \"react\";\n\n\nconst storageKey = \"localCart\";\n\nconst InitialState = {\n    basket: [], //id, title,price,image\n}\n\n\n// add to cart\n\n\n\nexport default function CommerceState(props) {\n    const [state, dispatch] = useReducer(commerceReducer, InitialState, (initial) => JSON.parse(localStorage.getItem(storageKey)) || initial)\n\n    \n    const incQty = (itemID) => {\n        dispatch({\n            type: INC_QTY,\n            payload: itemID\n        })\n    }\n\n    useEffect(() => {\n        localStorage.setItem(storageKey, JSON.stringify(state));\n\n    }, [state]);\n\n    const decQty = (itemID) => {\n        dispatch({\n            type: DEC_QTY,\n            payload:itemID\n            \n        })\n    }\n    const addToCart = (item) => {\n        dispatch({\n            type: ADD_T0_CART,\n            payload: item\n\n        })\n    }\n\n    const removeFromCart = (itemId) => {\n        dispatch({\n            type: REMOVE_FROM_CART,\n            payload: itemId\n        })\n    }\n\n    const emptyCart = () => {\n        dispatch({\n            type:EMPTY_CART\n        })\n    }\n\n  return (\n   \n      <CommerceContext.Provider value={{\n          basket: state.basket,\n          addToCart,\n          removeFromCart,\n          incQty,\n          decQty,\n          emptyCart\n      }}>\n          {props.children}\n      </CommerceContext.Provider>\n      \n      \n      \n  )\n}\n"]},"metadata":{},"sourceType":"module"}